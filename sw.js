importScripts("https://cdn.jsdelivr.net/npm/workbox-sw@7.1.0/build/workbox-sw.min.js");if(workbox){console.log(`Yay! Workbox is loaded ðŸŽ‰`)}else{console.log(`Boo! Workbox didn't load ðŸ˜¬`)}const CACHE_NAME={html:"html-xml-json-cache",css_js:"css-js-cache",local_image:"local-image-cache",nonlocal:"nonlocal-cache",local_media:"local-media-cache",font:"font-cache"};self.addEventListener("message",(e=>{if(e.data&&e.data.type==="SKIP_WAITING"){self.skipWaiting()}}));const offlineFallbackPage="/offline.html";const htmlFiles=["/",offlineFallbackPage,"/tools/","/tools/index.html","/tools/poster/index.html","/tools/formula_format/index.html","/tools/calculator/index.html","/tools/tools-pc.html"];const cssFiles=["/libs/materialize/materialize.min.css","/libs/sweetalert/sweetalert2.11.css","/css/matery.css","/css/matery-dark.css","/css/standalone/poster.css","/css/standalone/poster-result.css","/css/standalone/wordlist.css"];const jsFiles=["/libs/sweetalert/sweetalert2.11.js","/js/materialize.min.js","/js/matery.js","/libs/aos/aos.js","/js/standalone/jump2pc.js","/js/standalone/add2home.js","/js/standalone/calculator.js","/js/standalone/dom-to-image-more.js","/js/standalone/formula_format.js","/js/standalone/poster.js","/js/standalone/textbox_handle.js"];const nonLocalFiles=["https://source.unsplash.com/iYsGZgoS6bM"];caches.open(CACHE_NAME.html).then((e=>e.addAll(htmlFiles)));caches.open(CACHE_NAME.css_js).then((e=>e.addAll([...cssFiles,...jsFiles])));caches.open(CACHE_NAME.nonlocal).then((e=>e.addAll(nonLocalFiles)));if(workbox.navigationPreload.isSupported()){workbox.navigationPreload.enable()}workbox.routing.registerRoute(/\.(css|js)$/,new workbox.strategies.StaleWhileRevalidate({cacheName:CACHE_NAME.css_js,plugins:[new workbox.expiration.ExpirationPlugin({maxAgeSeconds:7*24*60*60})]}));workbox.routing.registerRoute(/(lzc|localhost:4000)\S+(\.(?:png|jpg|jpeg|svg|webp|gif))$/,new workbox.strategies.CacheFirst({cacheName:CACHE_NAME.local_image}));workbox.routing.registerRoute(/^((?!lzc|localhost).)*$/,new workbox.strategies.StaleWhileRevalidate({cacheName:CACHE_NAME.nonlocal}));workbox.routing.registerRoute(/(lzc|localhost:4000)\S+(\.(?:mp3|mp4|mkv|vtt|ogg|wav|webm))$/,new workbox.strategies.CacheFirst({cacheName:CACHE_NAME.local_media}));workbox.routing.registerRoute(/\.(?:woff2|eot|ttf|woff|otf)$/,new workbox.strategies.CacheFirst({cacheName:CACHE_NAME.font}));workbox.routing.registerRoute(/\.(?:xml|html|json)$/,new workbox.strategies.NetworkFirst({cacheName:CACHE_NAME.html}));self.addEventListener("fetch",(e=>{if(e.request.mode==="navigate"){e.respondWith((async()=>{try{const s=await e.preloadResponse;if(s){return s}const o=await fetch(e.request);if(!o.ok){throw new Error("Fetch failed")}return o}catch(e){console.error(e);const s=await caches.open(CACHE_NAME.html);const o=await s.match(offlineFallbackPage);return o}})())}}));
$((function(){if(typeof tocbot!=="undefined")toc_init();function t(){$("#articleContent img").each((function(){var t=$(this);var e=t.attr("alt")?t.attr("alt"):"";var a=t.attr("src");$imageWrapLink=t.wrap('<a data-fancybox=images data-caption="'+e+'" href="'+a+'"></a>')}))}t();let e=function(){$("#articleContent img:not(.no-gallery)").each((function(){let t=$(this).attr("src");$(this).wrap('<div class="img-item" data-src="'+t+'" data-sub-html=".caption"></div>');$(this).addClass("img-shadow img-margin");let e=$(this).attr("alt");let a=$(this).attr("title");let n="";if(e===undefined||e===""){if(a!==undefined&&a!==""){n=""}}else{n=e}if(n!==""){let t=document.createElement("div");t.className="caption";let e=document.createElement("span");e.className="center-caption";e.innerText=n;t.appendChild(e);this.insertAdjacentElement("afterend",t)}}));$(".img-item .caption .center-caption:contains('img')").css("display","none")};e()}));function guide_swal(t){Swal.fire({html:"<span><i class='fa-solid fa-pen-nib'></i>【导读】</span>"+t,showConfirmButton:0,showCloseButton:1,customClass:{htmlContainer:"post-guide-content"}})}function search_author(t,e){if(!t)return;var a,n;url1=e+"/api/rest_v1/page/summary/"+t;$.getJSON(url1,(function(i){n=i.originalimage?i.originalimage.source:"";a=i.extract;a=$.t2s(a);console.log(url1);console.log(a);a&&a.length>0?$("#PostAuthor .far.fa-square").attr("class","fa fa-info-circle"):console.log("作者信息为空！");return{author:t,wikimirror:e}})).then((function(n){console.error(n);document.getElementById("PostAuthor").addEventListener("click",(function(){if(a&&a.length>0){Swal.fire({html:`<h2 style="color:var(--bgcolor)"${t}</h2>`+'<p class="articleContent"style="font-weight:initial;text-indent:2em">'+a+"</p>",showCloseButton:true,closeButtonHtml:'<i class="fa fa-times" aria-hidden="true"></i>',showConfirmButton:false,footer:`<a href="${e}/wiki/${t}">了解更多</a>`})}}))}))}
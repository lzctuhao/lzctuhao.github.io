$((function(){let e=getUrlParam("password");if(e){let a=document.getElementById("hbePass");a.value=e;document.querySelector("#hexo-blog-encrypt label span").innerHTML="按下<b>回车(Enter)</b>以继续...";var t=document.createEvent("Event");t.initEvent("keydown",true,false);t=Object.assign(t,{ctrlKey:false,metaKey:false,altKey:false,which:13,keyCode:13,key:"Enter",code:"Enter"});a.focus();a.dispatchEvent(t)}if(typeof tocbot!=="undefined")toc_init();if(typeof MathJax!=="undefined"){var a=0;MathJax.Hub.Config({tex2jax:{inlineMath:[["\\(","\\)"],["$","$"]],displayMath:[["\\[","\\]"],["$$","$$"]],processEscapes:true,processClass:"ztext-math"},TeX:{extensions:["color.js"]},"HTML-CSS":{scale:100,linebreaks:{automatic:false}},showMathMenu:false,showProcessingMessages:false,messageStyle:"simple"});MathJax.Hub.Register.StartupHook("End",(function(){mathjax_ready&&mathjax_ready();$("#loading-cover").fadeOut(500)}));MathJax.Hub.Queue(["Typeset",MathJax.Hub,document.getElementsByTagName("body")])}function n(){$("#articleContent img").each((function(){var e=$(this);var t=e.attr("alt")?e.attr("alt"):"";var a=e.attr("src");$imageWrapLink=e.wrap('<a data-fancybox=images data-caption="'+t+'" href="'+a+'"></a>')}))}n();let i=function(){$("#articleContent img:not(.no-gallery)").each((function(){let e=$(this).attr("src");$(this).wrap('<div class="img-item" data-src="'+e+'" data-sub-html=".caption"></div>');$(this).addClass("img-shadow img-margin");let t=$(this).attr("alt");let a=$(this).attr("title");let n="";if(t===undefined||t===""){if(a!==undefined&&a!==""){n=""}}else{n=t}if(n!==""){let e=document.createElement("div");e.className="caption";let t=document.createElement("span");t.className="center-caption";t.innerText=n;e.appendChild(t);this.insertAdjacentElement("afterend",e)}}));$(".img-item .caption .center-caption:contains('img')").css("display","none")};i()}));function guide_swal(e){Swal.fire({html:"<span><i class='fa-solid fa-pen-nib'></i>【导读】</span>"+e,showConfirmButton:0,showCloseButton:1,customClass:{htmlContainer:"post-guide-content"}})}function search_author(e,t){if(!e)return;var a,n;url1=t+"/api/rest_v1/page/summary/"+e;$.getJSON(url1,(function(i){n=i.originalimage?i.originalimage.source:"";a=i.extract;a=$.t2s(a);console.log(url1);console.log(a);a&&a.length>0?$("#PostAuthor .far.fa-square").attr("class","fa fa-info-circle"):console.log("作者信息为空！");return{author:e,wikimirror:t}})).then((function(n){console.error(n);document.getElementById("PostAuthor").addEventListener("click",(function(){if(a&&a.length>0){Swal.fire({html:`<h2 style="color:var(--bgcolor)"${e}</h2>`+'<p class="articleContent"style="font-weight:initial;text-indent:2em">'+a+"</p>",showCloseButton:true,closeButtonHtml:'<i class="fa fa-times" aria-hidden="true"></i>',showConfirmButton:false,footer:`<a href="${t}/wiki/${e}">了解更多</a>`})}}))}))}
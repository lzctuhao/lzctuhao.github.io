var marker,markers=[],OpenInAPP=[];const Toast=Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!1}),Toast2=Swal.mixin({toast:!0,position:"top",showConfirmButton:!1,timer:3e3,timerProgressBar:!1});window.onload=function(){RemoveDOM(),window.map=new AMap.Map("mapcontainer",{resizeEnable:!0,center:[112.94161,28.149338],zoom:17,mapStyle:window.matchMedia("(prefers-color-scheme: dark)").matches?"amap://styles/dark":"amap://styles/normal"}),mylocation(),window.mySwiper=new Swiper(".swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0}}),initial(),CreateCorridor(),CreateFloorMap(),menu(),refresh()};var showOnly=["Train","StudyRoom"];const avoid=[210,25,20,15];var pointsWC=[[112.941269,28.150461],[112.942664,28.149694],[112.940735,28.149703],[112.942572,28.148966],[112.94073,28.148954],[112.941083,28.148367],[112.942332,28.148703],[112.941723,28.148733],[112.940707,28.148432],[112.941964,28.148588]],textWC=["Aåº§N22 N23ä¹‹é—´","Båº§æœ€ä¸œ","Båº§æœ€è¥¿","Cåº§N11æ—","Cåº§N02æ—","D129æ—","D116æ—","DåŒ—2é—¨æ—","D101æ—","D122æ—"],remarksWC=[,,,"Cåº§æœ€ä¸œ","Cåº§æœ€è¥¿"],labelpositionsWC=["top"],colorsWC=["green","green","green","green","green","green","green","green","green","green"],pointsA=[[112.941548,28.150408],[112.942323,28.150016],[112.941874,28.150003],[112.940941,28.149976],[112.941014,28.149978]],textA=["AåŒæ­£é—¨ (ç”µæ¢¯)","Aä¸œé—¨","Aä¸œå—é—¨","Aè¥¿1é—¨","Aè¥¿2é—¨"],labelpositionsA=["bottom",,,"left"],colorsA=[,,,,,"green"],pointsB=[[112.941643,28.149741],[112.94272,28.149945],[112.942629,28.14949],[112.942215,28.149706],[112.94107,28.149718],[112.940733,28.149537],[112.940763,28.149912]],labelpositionsB=[],textB=["Bæ­£é—¨(x4)","Bä¸œåŒ—é—¨","Bä¸œå—é—¨","Bå†…åº­é—¨(ä»…è¡Œäºº)","Bå†…åº­é—¨(ä»…è¡Œäºº)","Bè¥¿å—é—¨","Bè¥¿åŒ—é—¨"],colorsB=[,,,"grey","grey"],pointsC=[[112.940573,28.149018],[112.941645,28.149],[112.942224,28.14902],[112.942731,28.149038]],textC=["Cè¥¿é—¨","Cæ­£é—¨","Cä¸œ2é—¨","Cä¸œ1é—¨"],pointsD=[[112.941431,28.148798],[112.941777,28.148798],[112.941438,28.147993],[112.941795,28.147993],[112.942637,28.148196],[112.94084,28.147975],[112.942142,28.148832],[112.942559,28.148832],[112.94116,28.148767],[112.940443,28.148469]],textD=["DåŒ—1é—¨","DåŒ—2é—¨","Då—1é—¨","Då—2é—¨","Dä¸œå—é—¨","Dè¥¿å—é—¨","Dä¸œåŒ—é—¨x2","Dä¸œé—¨","Dè¥¿åŒ—é—¨","Dè¥¿é—¨"],pointsWater=[[112.94192,28.150467],[112.942613,28.149899],[112.942557,28.148971],[112.942223,28.148524]],labelpositionsWater=["top"],textWater=["A117æ—","B110æ—","C113æ•™å‘˜ä¼‘æ¯å®¤å†…","D117æ—"],colorsWater=["purple","purple","purple","purple"],remarksWater=["çƒ­æ°´","çƒ­æ°´","çƒ­æ°´","çƒ­æ°´"],pointsStudyRoom=[[112.944418,28.149675],[112.935214,28.157465],[112.935494,28.160674],[112.941582,28.14935]],labelpositionsStudyRoom=["left"],textStudyRoom=["æ–°æ ¡åŒºå›¾ä¹¦é¦†","çŸ¥æ–°é¦†","é©¬å…‹æ€ä¸»ä¹‰å­¦é™¢","æ•™å­¦æ¥¼ç©ºæ•™å®¤"],colorsStudyRoom=["brown","brown","brown","brown"],remarksStudyRoom=["æ¯å¤©7:30~22:30","æ¯å¤©8:00~22:00","æ¯å¤©7:00~22:00","Aåº§ æ¯å¤©7:00~22:00<br/>BCDåº§ æ¯å¤©7:00~21:00"],pointsTrain=[[112.931439,28.169933],[112.991883,28.138976],[112.9399,28.221029]],textTrain=["æœ¬éƒ¨äºŒåŠ","é“é“ä¸€ç«™å¼æœåŠ¡ä¸­å¿ƒ","æ¹˜é›…æ–°æ ¡12é£Ÿå ‚"],colorsTrain=["orange","orange","orange","orange"],remarksTrain=["1Få¤§å…è¿›é—¨å³ä¾§å…±4å°","å…±2å°","æ¥¼ä¸Šå…±2å°"],labelpositionsTrain=[,"left"];function initial(){markpoints(pointsWC,textWC,"WC"),markpoints(pointsA,textA,"A"),markpoints(pointsB,textB,"B"),markpoints(pointsC,textC,"C"),markpoints(pointsD,textD,"D"),markpoints(pointsWater,textWater,"Water"),markpoints(pointsStudyRoom,textStudyRoom,"StudyRoom"),markpoints(pointsTrain,textTrain,"Train")}function RemoveDOM(){$("header , #backTop").remove()}function addOverlay(buildingName){showOnly.indexOf(buildingName)>-1&&removeAll(),eval("map.add(overlayGroups"+buildingName+")"),eval('$("#Checkbox'+buildingName+'").prop("checked",true)')}function removeOverlay(buildingName){eval("map.remove(overlayGroups"+buildingName+")"),eval('$("#Checkbox'+buildingName+'").prop("checked",false)')}function arrayIIsDefined(arrayname,i){return!eval("typeof "+arrayname+'==="undefined"')&&void 0!==eval(arrayname)[i]}function markpoints(points,texts,buildingName){markers=[];let offset,direction,color,zIndex,remark="";for(i=0;i<texts.length;i++)arrayIIsDefined("labelpositions"+buildingName,i)?(direction=eval("labelpositions"+buildingName)[i],offset=new AMap.Pixel(0,-30)):(direction="right",offset=new AMap.Pixel(0,0)),arrayIIsDefined("colors"+buildingName,i)?(color=eval("colors"+buildingName)[i],zIndex="green"==color?99:100):(color="blue",zIndex=100),remark=arrayIIsDefined("remarks"+buildingName,i)?"("+eval("remarks"+buildingName)[i]+")":"",marker=new AMap.Marker({position:points[i],icon:cdn+"/medias/mapsource/"+color+".png",offset:new AMap.Pixel(-13,-30),topWhenClick:!0,zIndex:zIndex}),marker.setLabel({content:"<div class='mapdoor'>"+texts[i]+"<br/><span>"+remark+"</span></div>",direction:direction}),marker.on("click",(function(e){pointClick([$(this)[0]._position[0],$(this)[0]._position[1]],$(this)[0].dom.innerText)})),markers.push(marker);eval("window.overlayGroups"+buildingName+" = new AMap.OverlayGroup(markers)"),$('label[for="Checkbox'+buildingName+'"]').append("("+eval("points"+buildingName+".length")+")")}function pointClick(e,t){$("#click2route").is(":checked")?showAndDrawRoute(e,t):map.setZoomAndCenter(25,e)}function CreateCorridor(){let e=[],t=[[[112.941005,28.15008],[112.941005,28.14996]],[[112.942435,28.150094],[112.942435,28.149911]],[[112.941418,28.149527],[112.941418,28.149082]],[[112.941775,28.149527],[112.941775,28.149082]],[[112.941429,28.148947],[112.941429,28.14879]],[[112.94177,28.148947],[112.94177,28.14879]]],a=["middle-right","middle-left","middle-right","middle-left","middle-right"],o=[[112.941005,28.150022],[112.942435,28.150009],[112.941419,28.149374],[112.94177,28.149371],[112.941426,28.148879],[112.94177,28.148919]],n=["A201<br>B211","A211<br>B219","B203<br>C205","B204<br>C206","C205<br>DåŒ—1é—¨ä¸Šç©º","C206D<br>DåŒ—2é—¨ä¸Šç©º"];for(i=0;i<t.length;i++){let r=new AMap.Polyline({path:t[i],isOutline:!0,outlineColor:"#fff59d",borderWeight:1,strokeColor:"#f9a825",strokeOpacity:1,strokeWeight:6,strokeStyle:"solid",strokeDasharray:[10,5],lineJoin:"round",lineCap:"round",zIndex:50});e.push(r);let s=new AMap.Text({text:n[i],anchor:a[i],cursor:"pointer",style:{"border-radius":".25rem","background-color":"rgba(0, 0, 0, 0.50)","border-width":0,"box-shadow":"0 2px 6px 0 rgba(249, 168, 37, .5)","text-align":"left","font-size":"10px",color:"#f9a825"},position:o[i]});e.push(s)}window.overlayGroupsCorridor=new AMap.OverlayGroup(e)}function CreateFloorMap(){for(i=1;i<=3;i++){let imageLayer=new AMap.ImageLayer({bounds:new AMap.Bounds([112.940575,28.147995],[112.94279,28.148815]),opacity:1,url:cdn+"/medias/mapsource/d"+i+"f.png",zIndex:1,zooms:[17,20]});eval("window.overlayGroupsDFloor"+i+" = new AMap.OverlayGroup([imageLayer])")}let imageLayer=new AMap.ImageLayer({bounds:new AMap.Bounds([112.940544,28.148815],[112.94274,28.14925]),opacity:.8,url:cdn+"/medias/mapsource/c2f.png",zIndex:1,zooms:[17,20]});map.add(imageLayer),imageLayer=new AMap.ImageLayer({bounds:new AMap.Bounds([112.940785,28.15006],[112.942575,28.150495]),opacity:.8,url:cdn+"/medias/mapsource/a2f.png",zIndex:1,zooms:[17,20]}),map.add(imageLayer),imageLayer=new AMap.ImageLayer({bounds:new AMap.Bounds([112.94071,28.149495],[112.942685,28.149975]),opacity:.8,url:cdn+"/medias/mapsource/b3f.png",zIndex:1,zooms:[17,20]}),map.add(imageLayer)}function changeDFloor(floor,noMoveToD){map.remove(overlayGroupsDFloor1),map.remove(overlayGroupsDFloor2),map.remove(overlayGroupsDFloor3),eval("map.add(overlayGroupsDFloor"+floor+")"),noMoveToD||map.setZoomAndCenter(19,[112.94159,28.14846])}function menu(){var e=new AMap.ContextMenu;e.addItem("å¤åˆ¶ç»çº¬åº¦",(function(t){console.log("["+contextMenuPositon.lng+","+contextMenuPositon.lat+"]"),copyText("["+contextMenuPositon.lng+","+contextMenuPositon.lat+"]"),e.close()}),0),map.on("rightclick",(function(t){e.open(map,t.lnglat),contextMenuPositon=t.lnglat}))}function handleInput(){let e=$("#sb1").val().toLowerCase();if("aed"==e)return void aed();let t=e.substring(0,1),a=parseInt(e.substring(2,4)),o=parseInt(e.substring(1,2));switch(t){case"a":ARouteDraw(a);break;case"b":BRouteDraw(a);break;case"c":CRouteDraw(a);break;case"d":DRouteDraw(a,o);break;default:Toast2.fire("å°šä¸æ”¯æŒ","","error")}}function ARouteDraw(e){let t,a=!1;switch(e){case 1:case 2:case 3:t=3;break;case 4:case 5:case 6:case 23:case 24:t=4;break;case 22:case 21:case 20:case 19:case 18:case 7:case 8:case 17:case 9:t=0;break;case 10:case 11:case 12:case 13:case 14:case 15:t=1;break;default:Toast2.fire("è¾“å…¥å†…å®¹ä¸åˆæ³•","","error"),a=!0}a||showAndDrawRoute(pointsA[t],textA[t])}function BRouteDraw(e){let t,a=!1;if(e>=10&&e<=13)t=1;else if(e>=7&&e<=9)t=2;else if(e>=2&&e<=6||e>=14&&e<=18)t=0;else switch(e){case 19:case 20:t=6;break;case 1:t=5;break;default:Toast2.fire("è¾“å…¥å†…å®¹ä¸åˆæ³•","","error"),a=!0}a||showAndDrawRoute(pointsB[t],textB[t])}function CRouteDraw(e){let t,a=!1;e>=1&&e<=3?t=0:e>=4&&e<=7?t=1:e>=8&&e<=10?t=2:e>=11&&e<=13?t=3:a=!0,a||showAndDrawRoute(pointsC[t],textC[t])}function DRouteDraw(e,t){let a,o=!1,n=[];switch(t){case 1:switch(e){case 1:a=9;break;case 3:case 4:a=5;break;case 28:case 29:case 30:a=7;break;case 6:case 7:case 23:a=2;break;case 25:case 27:a=0;break;case 20:case 21:case 22:a=6;break;case 16:case 17:a=7;break;case 13:case 14:a=4;break;case 8:case 10:a=3;break;default:o=!0}break;case 2:switch(e){case 2:case 3:case 4:a=8;break;case 5:case 12:case 14:a=0;break;case 6:case 10:a=6;break;case 7:case 9:a=7;break;default:o=!0}break;case 3:a=1;break;default:o=!0}o?Toast2.fire("è¾“å…¥å†…å®¹ä¸åˆæ³•","","error"):showAndDrawRoute(pointsD[a],textD[a])}function showAndDrawRoute(e,t){if(removeAll(),$("#result").html("<b style='color:var(--bgcolor);font-size:larger'>"+t+"</b>"),mylocationresult[0])RidePlan(current,e,t);else{var a=new AMap.Marker({position:e,icon:"https://webapi.amap.com/theme/v1.3/markers/n/end.png",offset:new AMap.Pixel(-13,-30),map:map});a.setLabel({content:"<div class='mapdoor'>"+t+"</div>",direction:"right"}),removeAll(),a.setMap(map),map.setZoomAndCenter(19,e)}OpenInAPPEdit(e[0],e[1],t)}function OpenInAPPEdit(e,t,a){OpenInAPP[0]=e,OpenInAPP[1]=t,OpenInAPP[2]=a,$("#app").removeClass("disabled")}function RidePlan(e,t,a){var o={policy:1},n;function i(e){var t=r(e),o=new AMap.Marker({position:t[0],icon:"https://webapi.amap.com/theme/v1.3/markers/n/start.png",map:map}),n=new AMap.Marker({position:t[t.length-1],icon:"https://webapi.amap.com/theme/v1.3/markers/n/end.png",offset:new AMap.Pixel(-13,-30),map:map});n.setLabel({content:"<div class='mapdoor'>"+a+"</div>",direction:"right"});var i=new AMap.Polyline({path:t,isOutline:!1,strokeWeight:8,strokeColor:"#039be5",strokeOpacity:.8,lineJoin:"round",lineCap:"round",showDir:!0});i.setMap(map),map.setFitView([o,n,i],!1,avoid)}function r(e){for(var t=[],a=0,o=e.rides.length;a<o;a++)for(var n=e.rides[a],i=0,r=n.path.length;i<r;i++)t.push(n.path[i]);return t}map.clearMap(),new AMap.Riding(o).search(e,t,(function(e,t){"complete"===e?t.routes&&t.routes.length&&(i(t.routes[0]),Toast.fire("ç»˜åˆ¶éª‘è¡Œè·¯çº¿å®Œæˆ","","success")):Toast.fire('éª‘è¡Œè·¯çº¿ç»˜åˆ¶å¤±è´¥ï¼Œä½†æ‚¨ä»å¯ç‚¹å‡»"åœ¨APPå†…æ‰“å¼€"æŸ¥çœ‹',t,"warning")}))}function mylocation(){function e(e){current=[e.position.lng,e.position.lat],Toast.fire("å®šä½æˆåŠŸ","","success"),mylocationresult=[!0,e.location_type,e.accuracy],firstopen()}function t(e){let t=e.message.replace(/Geolocation permission denied\./g,"æœªæˆäºˆå®šä½æƒé™ï¼");t=t.replace(/Get ipLocation failed\./g,"IPå®šä½å¤±è´¥ï¼"),t=t.replace(/Get geolocation time out\./g,"å®šä½è¶…æ—¶ï¼"),Toast2.fire("å®šä½å¤±è´¥",t,"warning"),mylocationresult=[!1,t],firstopen()}AMap.plugin("AMap.Geolocation",(function(){var a=new AMap.Geolocation({enableHighAccuracy:!0,timeout:1e4,buttonPosition:"RB",buttonOffset:new AMap.Pixel(10,20),zoomToAccuracy:!1});map.addControl(a),a.getCurrentPosition((function(a,o){"complete"==a?e(o):t(o)}))}))}function firstopen(){1!=$.cookie("tutorial")&&($.cookie("tutorial","1",{expires:366}),tutorial())}function refresh(){removeAll(),addOverlay("A"),addOverlay("B"),addOverlay("C"),addOverlay("D"),addOverlay("WC"),changeDFloor("1",!0),map.setFitView(null,!1,avoid)}function isMobile(){let e=navigator.userAgent,t=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],a=!1;for(let o=0;o<t.length;o++)if(e.indexOf(t[o])>0){a=!0;break}let o=window.screen.width,n=window.screen.height;return o<500&&n<800&&(a=!0),a}function removeAll(){removeOverlay("A"),removeOverlay("B"),removeOverlay("WC"),removeOverlay("C"),removeOverlay("D"),removeOverlay("Water"),removeOverlay("StudyRoom"),removeOverlay("Corridor"),removeOverlay("Train"),$("#result").html("è¾“å…¥æˆ¿å·æˆ–ç‚¹å‡»åœ°ç‚¹"),$("#app").addClass("disabled"),map.clearMap()}function toggleSet(buildingName){eval("if($('#Checkbox"+buildingName+"').is(':checked')) {addOverlay('"+buildingName+"');} else {removeOverlay('"+buildingName+"');}"),map.setFitView(null,!1,avoid)}async function note(){const{value:e}=await Swal.fire({title:"è®°å½•å•è½¦ä½ç½®",html:'<div class="swal2info" id="swal2info1"><i class="fas fa-info-circle"></i> å½»åº•å…³é—­æµè§ˆå™¨ï¼Œå†æ¬¡æ‰“å¼€æœ¬é¡µé¢ï¼Œä»èƒ½ç‚¹å‡»  <button class="notipt" onclick="readnote()" style="border-radius:0px 30px 30px 0px;width:40px;margin: 0 0;"><text><i class="fas fa-eye"></i></text></button> ä»èƒ½æŸ¥çœ‹ã€‚</div><div class="file-field input-field"><div class="btn"><span><i class="far fa-dot-circle"></i> æ‹ç…§</span><input type="file"id="photo"type="file"accept="image/*"capture="camera"Î¿nchange="yulanfunc()"></div><div class="file-path-wrapper"><input class="file-path validate"type="text"></div></div><div class="input-field col s6"><input id="swal-input2" type="text" class="validate swal2-input" style="max-width:95%"><label for="swal-input2">ã€é€‰å¡«ã€‘æ–‡å­—å¤‡å¿˜ï¼šé™„è¿‘æ ‡å¿—ç‰©ï¼Ÿ</label></div><img id="yulan" class="smallpic"/>',focusConfirm:!1,showCloseButton:!0,confirmButtonText:'<i class="far fa-save"></i> ä¿å­˜',preConfirm:()=>[document.getElementById("photo").files[0],document.getElementById("swal-input2").value]});e&&(localStorage.setItem("notetext",e[1]),SaveTextAndBase64(e[0]))}function SaveTextAndBase64(e){if(window.FileReader&&e)try{var t=new FileReader;t.readAsDataURL(e),t.onloadend=function(e){var t=e.target.result;localStorage.setItem("notepicbase64",t)},Swal.fire({icon:"success",title:"ä¿å­˜æˆåŠŸ",html:"<br/><img class='smallpic' src='"+localStorage.getItem("notepicbase64")+"'/><br/>"+localStorage.getItem("notetext"),timer:1200,showConfirmButton:!1})}catch(e){Swal.fire({icon:"warning",title:"å›¾ç‰‡ä¿å­˜å¤±è´¥",html:"å¦‚æ— æ„å¤–ï¼Œ<b>æ–‡å­—ä¿å­˜æˆåŠŸã€‚</b><br/>è¯·å°è¯•å‹ç¼©å›¾ç‰‡å¤§å°ã€‚<br>å¤±è´¥åŸå› ï¼š"+e.message})}else Toast2.fire({icon:"warning",title:"æ–‡å­—ä¿å­˜æˆåŠŸ",html:"ä½ æ²¡æœ‰ä¸Šä¼ å›¾ç‰‡"})}function readnote(){Swal.fire({title:localStorage.getItem("notetext")?localStorage.getItem("notetext"):"æ²¡æœ‰æ–‡æœ¬æè¿°",imageUrl:localStorage.getItem("notepicbase64")})}function official(){Swal.fire({title:"ä¸­å—Eè¡Œ",html:'<div class="swiper"><div class="swiper-wrapper"><div class="swiper-slide"><div class="collection"><a href="http://ecard.csu.edu.cn:8070/InfoPub/CardNotice/NFixCardList?needHeader=true"class="collection-item">ğŸ“¢ æ‹¾å¡é€šçŸ¥</a><a href="http://classroom.csu.edu.cn:8082/index.html#/"class="collection-item">âœ… ç­¾åˆ°ç³»ç»Ÿ</a><a href="http://ecard.csu.edu.cn:8070/AutoPay/PowerFee"class="collection-item">âš¡ï¸ ç”µè´¹å……å€¼</a><a href="http://ecard.csu.edu.cn:8070/AutoPay/PowerFee/PList"class="collection-item">âš¡ï¸ ç”µè´¹å……å€¼è®°å½•</a><a href="http://app.its.csu.edu.cn/csu-app/cgi-bin/depa/depa"class="collection-item">ğŸšŒ ç­è½¦ä¿¡æ¯</a></div></div><div class="swiper-slide"><div class="collection"><a href="http://libzw.csu.edu.cn/home/web/f_second"class="collection-item">ğŸª‘ å›¾ä¹¦é¦†åº§ä½é¢„çº¦</a><a href="http://opac.its.csu.edu.cn/MylibIndex.aspx"class="collection-item">ğŸ“– å›¾ä¹¦é¦†å€Ÿè¿˜ä¹¦</a><a href="http://tz.its.csu.edu.cn/Home/Release_TZTG"class="collection-item">ğŸ”” æ ¡å†…é€šçŸ¥</a><a href="http://csujwc.its.csu.edu.cn/"class="collection-item">ğŸŒ æ•™åŠ¡ç®¡ç†ç³»ç»Ÿ</a><a href="http://my.csu.edu.cn/portal/index.jsp"class="collection-item">ğŸŒ ä¿¡æ¯é—¨æˆ·</a></div></div><div class="swiper-slide"><div class="collection"><a href="http://202.197.71.136/jpkc/"class="collection-item">ä¸­å—æ•°è‹‘</a><a href="https://onlineh5.zhihuishu.com/onlineWeb.html#/studentIndex"class="collection-item">çŸ¥åˆ°(æ™ºæ…§æ ‘)</a><a href="https://sso.sflep.com/cas/login?service=http%3a%2f%2fwelearn.sflep.com%2fuser%2floginredirect.aspx"class="collection-item">WE Learn</a><a href="https://www.icourse163.org/spoc/university/CSU"class="collection-item">ä¸­å›½å¤§å­¦MOOC</a><a href="https://www.yuketang.cn/v2/web/studentLog"class="collection-item">é›¨è¯¾å ‚</a></div></div></div><div class="swiper-button-prev"></div><div class="swiper-button-next"></div></div>',confirmButtonText:"å…³é—­",allowOutsideClick:!1});var e=new Swiper(".swiper",{navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}})}function nearest(e){let t=current[0],a=current[1],o=Math.pow(e[0][0]-t,2)+Math.pow(e[0][1]-a,2),n;for(i=1;i<e.length;i++)n=Math.pow(e[i][0]-t,2)+Math.pow(e[i][1]-a,2),n<o&&(t=e[i][0],a=e[i][1],o=n);return[t,a]}function copyText(e,t){var a=document.createElement("input");a.setAttribute("id","cp_input"),a.value=e,document.getElementsByTagName("body")[0].appendChild(a),document.getElementById("cp_input").select(),document.execCommand("copy"),document.getElementById("cp_input").remove(),t&&t(e)}function aed(){Swal.fire({icon:"warning",title:"AEDé™¤é¢¤ä»ªæ•°æ®ç¼ºå¤±",showCancelButton:!0,showConfirmButton:!0,showCloseButton:!0,reverseButtons:!0,confirmButtonText:"äº†è§£AED",cancelButtonText:"å¥½",html:'<p style="text-align: left;line-height: 1.5em;">å¿ƒæºæ€§çŒæ­»ç¦»æˆ‘ä»¬å¹¶ä¸é¥è¿œã€‚AEDï¼ˆè‡ªåŠ¨ä½“å¤–é™¤é¢¤ä»ªï¼‰è¢«ç§°ä¸ºåº”å¯¹çªå‘å¿ƒè„éª¤åœçš„â€œæ•‘å‘½ç¥å™¨â€ï¼Œè¿‘å¹´æ¥ï¼Œ<b>ç»™å…¬å…±åœºæ‰€é…å¤‡AEDè®¾å¤‡å·²ä¸ºèˆ†è®ºå¤šç•ªå‘¼åã€‚</b></p><p style="text-align: left;line-height: 1.5em;">å‘è¾¾å›½å®¶å·²ç»æ™®åŠAEDï¼Œå¦‚æ—¥æœ¬ã€å¾·å›½ã€æ–°åŠ å¡ç­‰å›½å®¶ï¼Œåœ¨åœ°é“ç«™ã€é…’åº—å¤§å ‚ç­‰å…¬å…±ç©ºé—´å¹¿æ³›é…å¤‡AEDã€‚2019å¹´ï¼Œæ¸…åå¤§å­¦å¢è®¾341å°AEDï¼›2021å¹´ï¼Œå—äº¬å¤§å­¦å¢è®¾150å°AEDï¼ŒåŒ—å¸ˆå¤§å¢è®¾20å°ã€‚</p>'}).then((e=>{e.value&&window.open("https://www.zhihu.com/question/317438113/answer/767028136")})),$("#CheckboxAED").prop("checked",!1)}function nearestPoint(e,t){if(1==t.length)return t[0];let a=AMap.GeometryUtil.distance(e,t[0]),o,n=t[0];for(i=1;i<t.length;i++)o=AMap.GeometryUtil.distance(e,t[i]),o<a&&(a=o,n=t[i]);return n}$("#app").click((function(){isMobile()?window.open("amapuri://route/plan/?dlon="+OpenInAPP[0]+"&dlat="+OpenInAPP[1]+"&dname="+OpenInAPP[2]+"&dev=0&t=3"):window.open("http://uri.amap.com/navigation?from="+current[0]+",+"+current[1]+",æˆ‘çš„ä½ç½®(ä¸ç²¾ç¡®)&to="+OpenInAPP[0]+",+"+OpenInAPP[1]+","+OpenInAPP[2]+"&mode=walk&src=lzc2002.com")})),window.tutorial=async()=>{const e=[1,2,3,4,5,6,7,8],t=Swal.mixin({confirmButtonText:"ä¸‹ä¸€æ­¥",cancelButtonText:"ä¸Šä¸€æ­¥",progressSteps:e,reverseButtons:!0,customClass:{confirmButton:"confirmButton",cancelButton:"cancelButton"},allowOutsideClick:!1,showCloseButton:!0,closeButtonHtml:"è·³è¿‡"});let a,o=["æ¬¢è¿ä½¿ç”¨CSUæ•™å®¤å¯¼èˆª",mylocationresult[0]?"è·å–å®šä½æˆåŠŸ":"è·å–å®šä½å¤±è´¥","å¤šéª‘ä¸¤ä¸‹ï¼Œå°‘èµ°ä¸€æ®µ","è¾“å…¥ï¼Œå®Œæˆï¼","é—¨ã€æ¥¼æ¢¯ä¸ç”µæ¢¯","æ˜¯æ‡’ï¼Œä¹Ÿæ˜¯<span style='color:var(--bgcolor)'>å®‰å…¨</span>","More Worthwhile","è®©æˆ‘ä»¬å¼€å§‹å§ï¼"],n=["è¯¥æ•™ç¨‹å°†å¼•å¯¼ä½ ä½¿ç”¨ï¼Œé¢„è®¡30sé€šè¿‡ã€‚",mylocationresult[0]?"å®šä½æ–¹å¼ï¼š"+mylocationresult[1]+"<br/>å®šä½ç²¾åº¦ï¼š"+mylocationresult[2]+"m":"ä½†æ‚¨ä»å¯ä½¿ç”¨è§„åˆ’æœåŠ¡ã€‚<br/>å¤±è´¥åŸå› ï¼š"+mylocationresult[1],"ä¼—æ‰€å‘¨çŸ¥ï¼ŒABCDåº§æœ‰å¾ˆå¤šé—¨ã€‚è¯¥ç³»ç»Ÿå¯ä»¥<span style='color:var(--bgcolor)'>æ˜¾ç¤ºç¦»è¯¾å®¤æœ€è¿‘çš„é—¨</span>ï¼Œä½ å¯ä»¥éª‘è½¦è‡³æ­¤å¤„ã€‚",'åœ¨å·¦ä¸Šè§’è¾“å…¥è¯¾å®¤æˆ¿å·ï¼Œæ ¼å¼ï¼šå¦‚<input type="text" value="A315" style="margin: 0"></input><br/>ç‚¹å‡»<input type="button" value="ç”Ÿæˆ"/>å³å¯å®Œæˆè§„åˆ’ï¼Œ<br/>ç‚¹å‡»<input type="button" value="åœ¨é«˜å¾·APPå†…å¯¼èˆª"/>å¯ä»¥è·³è½¬é«˜å¾·åœ°å›¾APPå†…å¯¼èˆªã€‚',"ä¸€èˆ¬è€Œè¨€ï¼Œæœ‰é—¨çš„åœ°æ–¹å°±æœ‰æ¥¼æ¢¯ã€‚è¿›é—¨åç›´æ¥ä¸Šæ¥¼æ¢¯ï¼Œæ˜¯æœ€è¿‘çš„é“è·¯ã€‚<br/><br/>ç”µæ¢¯éƒ½åœ¨æ¥¼æ ‹è¿›é—¨ä½ç½®å¤„ã€‚","äº†è§£ç¦»è¯¾å®¤æœ€è¿‘çš„æ¥¼æ¢¯ï¼Œå‡å°‘æ­£é—¨æ¥¼æ¢¯çš„æ‹¥å µï¼Œå®‰å…¨é˜²ç–«ã€‚<br/><br/>æ­¤å¤–ï¼Œæ–¹ä¾¿æ‚¨åœ¨é‡åˆ°ç´§æ€¥æƒ…å†µ(å¦‚ç«ç¾ã€åœ°éœ‡)æ—¶ï¼Œå¿«é€Ÿæ‰¾åˆ°ä¸‹æ¥¼é€ƒç”Ÿé€šé“ã€‚","ç›®å‰çš„åŠŸèƒ½ä»…é™<span style='color:var(--bgcolor)'>æŸ¥æ‰¾æœ€è¿‘çš„é—¨</span>å’Œ<span style='color:var(--bgcolor)'>æ‹ç…§è®°å½•</span>ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨æ—¥ååˆ©ç”¨è¯¥åŠŸèƒ½åšæ›´æœ‰æ„ä¹‰çš„äº‹æƒ…ï¼Œæ¯”å¦‚<span style='color:var(--bgcolor)'>å¯¼èˆªè‡³æœ€è¿‘çš„AEDé™¤é¢¤ä»ª</span>ç­‰ã€‚<br/><br/>å¦‚æœä½ èƒ½ä¸ºæˆ‘ä»¬æä¾›å¸®åŠ©ï¼Œæ¬¢è¿è”ç³»æˆ‘ä»¬ã€‚"],i=[,mylocationresult[0]?"success":"warning"];for(a=0;a<e.length;){const r=await t.fire({title:o[a],html:n[a],icon:i[a],showCancelButton:a>0,currentProgressStep:a});if(r.value)a++;else{if(r.dismiss!==Swal.DismissReason.cancel)break;a--}a===e.length&&Swal.fire(JSON.stringify(values))}};
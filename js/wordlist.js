var exitReadWhole;var ReadWhole_row;const Toast=Swal.mixin({toast:true,position:"top",showConfirmButton:false,timer:3e3});$((function(){document.documentElement.requestFullscreen();var e="rgba(255, 255, 255, 0)";var r="";t=1;function n(n){o=$("table#words tr td:nth-child("+n+")");if(t==1){$(o).css("color",e);$(o).addClass("noselect");t=0}else{$(o).css("color",r);$(o).removeClass("noselect");t=1}}$(".wordtoggles").click((function(){n("2")}));$(".meanings").click((function(){n(chineserow)}));$("table#words tr td:nth-child(2)").on("click",(function(t){o=t.target;if($("#mode").val()==1){if($(o).css("color")==e){$(o).css("color",r);$(o).removeClass("noselect")}else{$(o).css("color",e);$(o).addClass("noselect")}}else if($("#mode").val()==3){weishi($(o).text())}else if($("#mode").val()==4){window.rowindex;rowindex=$(this).parent()[0].rowIndex;ExampleSentence()}}));$("table#words tr td:nth-child("+chineserow+")").on("click",(function(t){if($("#mode").val()==2){o=t.target;if($(o).css("color")==e){$(o).css("color",r);$(o).removeClass("noselect")}else{$(o).css("color",e);$(o).addClass("noselect")}}}));$("table#words tr td:nth-child("+chineserow+") i").on("click",(function(e){e.stopPropagation()}));$("#mode").change((function(){var e=$("#mode").val();changeURLPar("mode",e);t=0;n("2");t=0;n(chineserow);$(".wordtoggles,.meanings,#prevbtn2,#nextbtn2,#bigwordbtn").css("display","none");if(e==1){$(".wordtoggles").css("display","block")}if(e==2){$(".meanings").css("display","block")}}));$("table#words tr td:nth-child(2)").on("click",(function(e){if($("#sound").is(":checked")){var t=$(e.target).text();var o=$("#soundorg").val();let r=showSound(t,o);single_sound_play(r)}}));var i=parseInt(getUrlParam("length"));if(!i){i=10}var a=$("#words").DataTable({retrieve:true,paging:true,pageLength:i,searching:true,search:{regex:true},lengthMenu:[[10,25,50,100,-1],[10,25,50,100,"全部"]],order:[],pagingType:"input",columnDefs:[{targets:[chineserow-1],orderable:false}],initComplete:function(e,t){try{tabledone()}catch(e){console.log("表格加载完后无要执行的函数tabledone()")}},language:{sProcessing:"处理中...",sLengthMenu:"每页显示 _MENU_ 项结果",sZeroRecords:"没有匹配结果",sInfo:"显示第 _START_ 至 _END_ 项结果，共 _TOTAL_ 项",sInfoEmpty:"显示第 0 至 0 项结果，共 0 项",sInfoFiltered:"(由 _MAX_ 项结果过滤)",sInfoPostFix:"",searchPlaceholder:"你可以这样搜索...",sSearch:"",sUrl:"",sEmptyTable:"表中数据为空",sLoadingRecords:"载入中...",sInfoThousands:",",oPaginate:{sFirst:"首页",sPrevious:"<i class='fas fa-arrow-circle-left'></i>",sNext:"<i class='fas fa-arrow-circle-right'></i>",sLast:"末页"},oAria:{sSortAscending:": 以升序排列此列",sSortDescending:": 以降序排列此列"}}});$(".dataTables_filter input").attr({list:"dataTables_filter_input"});var s=getUrlParam("search");if(s){$("title").html("["+s+"]"+title1+"|lzc的小站");$("#words").DataTable().search(s).draw()}$('input[aria-controls="words"]').blur((function(){var e=$('input[aria-controls="words"]').val();$("title").html((e?"["+e+"]":"")+title1+"|lzc的小站");changeURLPar("search",e)}));$("select[name='words_length']").change((function(){changeURLPar("length",a.page.len())}));document.getElementById("mode").value=parseInt(getUrlParam("mode"))?parseInt(getUrlParam("mode")):"0";if(getUrlParam("showkey")){$(".key_region").show();$("#bigword1").css({"font-size":"2.5rem","line-height":"2.5rem"});$("#bigword2").css({"font-size":"1.5rem","line-height":"1.5rem"});let e=["mb1key","mb2key","bdid","bdkey"];for(var l=0;l<4;l++){if(getUrlParam(e[l])){$.cookie("Wordlist_"+e[l],getUrlParam(e[l]),{expires:365,path:"/"})}if($.cookie("Wordlist_"+e[l])){$("#"+e[l]).val($.cookie("Wordlist_"+e[l]))}}}}));$("body").on("click",".transbtn",(function(){var e=$(this);e.css("pointer-events","none");var t=e.prev().text();url=calculateURL(t);$.ajax({type:"GET",url:url,dataType:"jsonp",success:function(t){if(t.error_code){if(t.error_code=="54003"){Toast.fire("请求过于频繁，请5秒后重试","","error")}else if(t.error_code=="52003"){Swal.fire("例句翻译KEY填写错误","你填写的例句翻译APP ID或密钥错误！请检查是否与<a href='https://api.fanyi.baidu.com/api/trans/product/desktop?req=developer'  target='_blank'>官网所给的KEY</a>一致。你填写的是：<br/><b>例句翻译APP ID: </b><code><del>"+$.cookie("Wordlist_bdid")+"</del></code>（无效）<br/><b>例句翻译密钥: </b><code><del>"+$.cookie("Wordlist_bdkey")+"</del></code>（无效）","error")}else{Toast.fire("未知错误","","error")}}else{e.after(" <div class='trans-text'>"+t.trans_result[0].dst+"</div>");e.remove()}},error:function(t){Toast.fire("Error: "+t.status,"","error");e.css("pointer-events","auto")}})}));var files=new Array;var k=0;var music_player=document.querySelector("#hint");var jsonData;function toggleSound(){var e=document.getElementById("hint");if(e.paused){e.paused=false;e.play()}}function digui(e){setInterval("toggleSound",100);if(exitReadWhole){diguistop()}else if(e>=document.getElementById("words").rows.length&&$("#words").DataTable().page.info().page+1<$("#words").DataTable().page.info().pages&&$("#autoTurnPage").is(":checked")){$("table#words tr:eq("+(ReadWhole_row-1)+") td").removeClass("soundhere");document.getElementById("words_next").click();ReadWhole_row=1;digui(ReadWhole_row)}else if(e>=document.getElementById("words").rows.length){if($("input[list='dataTables_filter_input']").val()){Toast.fire("已读完“"+$("input[list='dataTables_filter_input']").val()+"”的所有单词！","","success")}else{Toast.fire("已读完所有单词！","","success")}$("<audio src='/../medias/over.mp3' autoplay id='stop'/>").appendTo("body");$("table#words tr:eq("+(ReadWhole_row-1)+") td").removeClass("soundhere");diguistop()}else{$("#bigword_example,#bigwordSLB").empty();files.length=0;target=$("table#words tr:eq("+e+") td:eq(1)");for(j=1;j<=times;j++){files.push(showSound(target.text(),j%4))}if($("#readcn").is(":checked")){files.push(showSoundCN($("table#words tr:eq("+e+") td:eq("+(chineserow-1)+")").text(),5,e))}if($("#readSampleSentences").is(":checked")){$.ajax({async:false,type:"GET",url:get_api_url("collegiate",target.text()),datatype:"json",crossDomain:true,success:function(t){if(t=="Invalid API key. Not subscribed for this reference."){Swal.fire("朗读单词Key填写错误","你填写的朗读单词Key (Dictionary)错误！请检查是否与<a href='https://dictionaryapi.com/account/my-keys'  target='_blank'>官网所给的KEY</a>一致。你填写的是：<br/><code>"+$.cookie("Wordlist_mb1key")+"</code>","error");exitReadWhole=1;diguistop()}let o=syllable_row>-1?$("table#words tr:eq("+e+") td:eq("+(syllable_row-1)+")").text():false;SLBinReadWhole(t,o);try{parseJson(t,1)}catch(e){console.error(target.text()+"错误："+e)}},complete:function(e,t){if(t=="timeout"){ajaxTimeOut.abort();Toast.fire("网络不佳，跳转下一个词","","error")}},error:function(){Toast.fire("未知错误，跳转下一个词","","error")}})}Each_digui_do(e);music_player.src=files[0]}}function parseJson(e,t){for(var o in e){var r=e[o];if(r.length>0&&typeof r=="object"||typeof r=="object"){if(r[0]&&r[0]=="t"){for(var n=1;n<r.length;n++){handleLiJu(r[n],t)}}else{parseJson(r,t)}}else{if(o=="t"){handleLiJu(r,t)}}}}music_player.addEventListener("ended",(function(){nextsound()}));music_player.addEventListener("error",(function(){let e=document.getElementById("hint").src;e=e.split("/")[2];if(e){Swal.fire({toast:true,position:"top",icon:"warning",title:"发音引擎错误。将继续下一单词。",text:"  (无法连接至"+e+")",showConfirmButton:false,timer:2500});nextsound()}}));function get_api_url(e,t){var o="";if(e=="collegiate")o="https://dictionaryapi.com/api/v3/references/collegiate/json/"+t+"?key="+$.cookie("Wordlist_mb1key");else if(e=="learners")o="https://dictionaryapi.com/api/v3/references/learners/json/"+t+"?key="+$.cookie("Wordlist_mb2key");return o}function handleLiJu(e,t){e=handle(e);$("#bigword_example").append("<li><span>"+e+'</span> <span class="transbtn"> <i class="fa fa-language" aria-hidden="true"></i></span></li> ');e=e.replace(/<[^>]+>/g,"");e=e.replace(/\{.*?\}/g,"");e=e.replace(/\[|]/g,"");if(t=="1"){files.push(showSound(e,files.length%3))}}function nextsound(){k++;if(k>=files.length){nextWord()}else{music_player.src=files[k]}}function nextWord(){ReadWhole_row++;k=0;setTimeout("digui("+ReadWhole_row+");",timeslot)}function prevWord(){$("table#words tr:eq("+ReadWhole_row+") td").removeClass("soundhere");if(ReadWhole_row>=2){ReadWhole_row--;k=0;digui(ReadWhole_row)}else if($("#words").DataTable().page.info().page+1>=2){document.getElementById("words_previous").click();ReadWhole_row=document.getElementById("words").rows.length-1;k=0;digui(ReadWhole_row)}else{ReadWhole_row=1;k=0;digui(ReadWhole_row)}}function ExampleSentence(){let e=$("table#words tr:nth-child("+rowindex+") td:nth-child(2)").html();let t=$("table#words tr:nth-child("+rowindex+") td:nth-child("+chineserow+")").html();let o=syllable_row>0?$("table#words tr:nth-child("+rowindex+") td:nth-child("+syllable_row+")").html():false;$("#bigword_example").empty();$("#bigword-content").css("text-align","left");let r={async:false,crossDomain:true,url:get_api_url("collegiate",e),method:"GET"};$.ajax(r).done((function(e){SLBinReadWhole(e,o);parseJson(e,2)}));$("#bigword2").html(t);$("#bigword1").html(e);$("#bigword0").html(originhtml);bigwordUP();$("#bigwordbtn,#prevbtn2,#nextbtn2").fadeIn()}$("#nextbtn2").click((function(){if(rowindex<document.getElementById("words").rows.length-1&&$("#words").DataTable().page.info().page+1<=$("#words").DataTable().page.info().pages){rowindex++;ExampleSentence();let e=$("table#words tr:nth-child("+rowindex+") td:nth-child(2)").html();single_sound_play(showSound(e))}else if($("#words").DataTable().page.info().page+1<$("#words").DataTable().page.info().pages){document.getElementById("words_next").click();rowindex=1;ExampleSentence(1);let e=$("table#words tr:nth-child("+rowindex+") td:nth-child(2)").html();single_sound_play(showSound(e))}else Toast.fire("已经是最后一个单词啦","(●'◡'●)","info")}));$("#prevbtn2").click((function(){if(rowindex==1&&$("#words").DataTable().page.info().page+1>1){document.getElementById("words_previous").click();rowindex=document.getElementById("words").rows.length-1;ExampleSentence();let e=$("table#words tr:nth-child("+rowindex+") td:nth-child(2)").html();single_sound_play(showSound(e))}else if(rowindex>=2){rowindex--;ExampleSentence();let e=$("table#words tr:nth-child("+rowindex+") td:nth-child(2)").html();single_sound_play(showSound(e))}else Toast.fire("这是第一个单词哦","(●'◡'●)","info")}));function Each_digui_do(e){$("table#words tr:eq("+(e-1)+") td").removeClass("soundhere");$("table#words tr:eq("+e+") td").addClass("soundhere");$("table#words tr:eq("+e+") td")[0].scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});document.getElementById("bigword0").innerHTML=$("table#words tr:eq("+e+") td:eq(0)").html();document.getElementById("bigword1").innerHTML=$("table#words tr:eq("+e+") td:eq(1)").html();document.getElementById("bigword2").innerHTML=$("table#words tr:eq("+e+") td:eq("+(chineserow-1)+")").html();document.getElementById("hint").play()}var times,timeslot;var noSleep;$("#beginreadWholeBTN").click(diguibegin);$(".ctrlwholediv").click((function(){$(this).hasClass("play")?diguistop():diguibegin()}));function diguibegin(){if($("#screenon").is(":checked")){noSleep=new NoSleep;noSleep.enable()}if($("#readSampleSentences").is(":checked")){$("#bigword-content").css("text-align","left")}else{$("#bigword-content").css("text-align","center")}$("table#words,#shiyanqu,#words_length,#words_filter,#words_paginate").addClass("no-pointer-events");ReadWhole_row=parseInt($("#where").val());$(".paginate_input").val(getPageNowtr(ReadWhole_row).page);$("#words").dataTable().fnPageChange(getPageNowtr(ReadWhole_row).page-1);ReadWhole_row=getPageNowtr(ReadWhole_row).Nowtr;times=parseInt($("#times").val());timeslot=parseInt($("#timeslot").val())*1e3;exitReadWhole=0;k=0;$("#nextbtn2,#prevbtn2").fadeOut();$("#ctrlwholediv, #ctrlwholesvg").addClass("play");$("#ctrlwholediv,#bigwordbtn, #nextbtn,#prevbtn").fadeIn();digui(ReadWhole_row)}function diguistop(){if($("#screenon").is(":checked")){noSleep.disable()}$("#hint")[0].src="//";exitReadWhole=1;$("table#words tr:eq("+(ReadWhole_row-1)+") td").removeClass("soundhere");$("table#words tr:eq("+ReadWhole_row+") td").removeClass("soundhere");$("table#words,#shiyanqu,#words_length,#words_filter,#words_paginate").removeClass("no-pointer-events");$("#ctrlwholediv, #ctrlwholesvg").removeClass("play");$("#nextbtn,#prevbtn").fadeOut();let e=$("#words").DataTable().page.info().recordsDisplay;$("#where").val(getTrueTR(ReadWhole_row)>e?1:getTrueTR(ReadWhole_row))}var originhtml,trSeq,settings;$("table#words td").mouseover((function(){trSeq=$(this).parent().parent().find("tr").index($(this).parent()[0])+1;originhtml=$("table#words tr:eq("+trSeq+") td"+":eq(0)").html();$("table#words tr:eq("+trSeq+") td"+":eq(0)").html("#"+getTrueTR(trSeq))})).mouseout((function(){$("table#words tr:eq("+trSeq+") td"+":eq(0)").html(originhtml)}));$("#nextbtn").click((function(){nextWord()}));$("#prevbtn").click((function(){prevWord()}));function showSound(e,t=2){var o="";e=e.replace(/\//g," or ");e=e.replace(/sb\./g,"somebody");e=e.replace(/sth\./g,"something");e=e.replace(/…/g," ");e=e.replace(/\s+/g," ");e=e.replace(/—/g," - ");e=e.replace(/^\s+|\s+$|\(|\)/g,"");if(t==2||t==1){o="https://dict.youdao.com/dictvoice?audio="+e+"&type="+t}else if(t==0){let t="https://api.dictionaryapi.dev/api/v2/entries/en/"+e;$.ajaxSettings.async=false;$.getJSON(t,(function(t){$.each(t[0].phonetics,(function(e,t){if(t.audio){o=t.audio;o=encodeURI(o);return false}}));if(o==""){o=decodeURI(showSound(e,2))}})).error((function(){o=decodeURI(showSound(e,2))}))}else if(t==3){let t=get_api_url("collegiate",e);$.ajaxSettings.async=false;$.getJSON(t,(function(t){$.each(t[0].hwi.prs,(function(e,t){if(t.sound.audio){let e=t.sound.audio;let r=e.slice(0,1);o="https://media.merriam-webster.com/audio/prons/en/us/mp3/"+r+"/"+e+".mp3";o=encodeURI(o);return false}}));if(o==""){o=decodeURI(showSound(e,1))}})).error((function(){o=decodeURI(showSound(e,1))}))}o=encodeURI(o);return o}function showSoundCN(e,t,o){e=e.replace(/[；|;]/g,",");e=e.replace(/…/g,"什么");e=e.replace(/vt.|vi.|adj.|adv.|n.|v.|conj./g,",");e.replace(/^,+/,"").replace(/,+$/,"");soundurl="https://tts.baidu.com/text2audio?tex="+e+"&cuid=baike&lan=ZH&ctp=1&pdt=301&vol=9&rate=32&per=0";return soundurl}function single_sound_play(e){$("#hint2").remove();$("<audio src='"+e+"' autoplay id='hint2'/>").appendTo("body");document.getElementById("hint2").play()}var bigword_status=false;document.getElementById("bigwordbtn").addEventListener("click",(function(){!bigword_status?bigwordUP():bigwordDOWN()}));function bigwordUP(){$("#bigword").css("top","0px");$("#bigwordbtn").addClass("down");$("body").removeClass("NowCanShow");bigword_status=true}function bigwordDOWN(){$("#bigword").css("top","100%");$("#bigwordbtn").removeClass("down");$("body").addClass("NowCanShow");bigword_status=false}function changeURLPar(par,par_value){par_value=encodeURI(par_value);var destiny=location.href;var pattern=par+"=([^&]*)";var replaceText=par_value?par+"="+par_value:"";if(destiny.match(pattern)){var tmp="/"+par+"=[^&]*/";tmp=destiny.replace(eval(tmp),replaceText);changeURL(tmp)}else{if(destiny.match("[?]")){changeURL(destiny+"&"+replaceText)}else{changeURL(destiny+"?"+replaceText)}}}function changeURL(e){e=e.replace(/&+$/g,"");history.pushState({url:e,title:document.title},document.title,e)}function weishi(e){Swal.fire({title:"相关词汇短语",html:'<img src="/../medias/loading.svg" id="wswait" style="max-width:350px;"/ ><div id="weishimain"></div>',showCancelButton:false,showCloseButton:true,showConfirmButton:false,customClass:{container:"wscontainer-class",popup:"wspopup-class",closeButton:"wsclose"}});window.addEventListener("popstate",(function(){$(".wsclose").trigger("click")}),false);window.history.pushState(null,null,"#");url1=get_api_url("learners",e);$.getJSON(url1,(function(e){var t=0;if(e[0].meta){e.forEach((function(e){var o=false;try{$("#weishimain").append("<h1>"+e.meta.id+(e.hwi.prs&&e.hwi.prs[0].ipa?"<span class='phs'>/"+e.hwi.prs[0].ipa+"/</span>":"")+(e.fl?"<code>"+e.fl+"</code>":"")+"</h1>");$("#weishimain").append("<p id='wsp"+t+"'></p>");j=0;e.meta.stems.forEach((function(o){$("#wsp"+t).append("<i>"+o+"</i>");if(j<e.meta.stems.length-1){$("#wsp"+t).append(", ")}j++}));$("#weishimain").append("<ul id='wsul"+t+"'class='outerul'>");if(e.def&&e.def[0].sseq){var r=0;e.def[0].sseq.forEach((function(e){var o=null;if(e[0][1].dt&&e[0][1].dt[0][1]){o=e[0][1].dt}else if(e[1][1].dt&&e[1][1].dt[0][1]){o=e[1][1].dt}if(o){if(o[0].indexOf("text")<0&&o[0][1]&&o[0][1][0]){o=o[0][1][0]}$("#wsul"+t).append("<li>"+handle(o[0][1])+"<ul id='li"+t+"li"+r+"juul' class='lijuul'></ul></li>");var n=null;if(o[1]&&o[1].indexOf("vis")>=0){n=o[1][1]}else if(o[2]&&o[2].indexOf("vis")>=0){n=o[2][1]}if(n){n.forEach((function(e){$("#li"+t+"li"+r+"juul").append("<li>"+handle(e.t)+"</li>")}))}}r++}))}else if(e.dros[0].drp){}$("#weishimain").append("</ul>");t++}catch(r){console.error(r);console.error(e.meta.id+"的第"+t+"个释义\n");if(!o){Toast.fire(e.meta.id+"的部分信息无法显示！","","error")}o=true}}))}else{$("#weishimain").append("<p style='text-align: center;'>韦氏词典没有该词组！</p>");Toast.fire("韦氏词典没有该词组！","","error")}$("#wswait").css("display","none")})).fail((function(e){if(e.responseText=="Invalid API key. Not subscribed for this reference."){Swal.fire("英英词典Key填写错误","你填写的英英词典Key (Learner's)错误！请检查是否与<a href='https://dictionaryapi.com/account/my-keys'  target='_blank'>官网所给的KEY</a>一致。你填写的是：<br/><code><del>"+$.cookie("Wordlist_mb2key")+"</del></code>（无效）","error")}else{Toast.fire("连接不上韦氏词典服务器！","","error")}}))}function handle(e){e=e.replace(/{wi}/g,"");e=e.replace(/{\/wi}/g,"");e=e.replace(/{qword}/g,"<b>");e=e.replace(/{\/qword}/g,"</b>");e=e.replace(/{bc}/g,"");e=e.replace(/{gloss}/g,'<span class="hint">(');e=e.replace(/{\/gloss}/g,")</span>");e=e.replace(/{ldquo}/g,"“");e=e.replace(/{rdquo}/g,"”");e=e.replace(/{phrase}/g,'<span class="phrase">');e=e.replace(/{\/phrase}/g,"</span>");e=e.replace(/{it}/g,"<i>");e=e.replace(/{\/it}/g,"</i>");e=e.replace(/\{sx\|(.+?)\|\|\}/g,'see <span style="text-decoration:underline;">$1</span>');e=e.replace(/{dx}(.+?){\/dx}/g,"($1)");e=e.replace(/\{dxt\|(.+?)\|\|\}/g,'<span style="text-decoration:underline;">$1</span>');e=e.replace(/\{et_link\|(.+?)\|(.+?)\}/g,'<span style="text-decoration:underline;">$1</span>');return e}function stopwholeFreeMove(){var e=0;var t=document.getElementById("stopwhole");var o,r,n,i,a,s,l,d;t.addEventListener("touchstart",(function(t){e=0;t.preventDefault();o=t.touches[0].clientX-this.offsetLeft;disY=t.touches[0].clientY-this.offsetTop;a=t.touches[0].clientX;s=t.touches[0].clientY}));t.addEventListener("touchmove",(function(t){e=1;n=t.touches[0].clientX-o;i=t.touches[0].clientY-disY;l=t.touches[0].clientX-a;d=t.touches[0].clientY-s;if(n<0){n=0}else if(n>document.documentElement.clientWidth-this.offsetWidth){n=document.documentElement.clientWidth-this.offsetWidth}if(i<0){i=0}else if(i>document.documentElement.clientHeight-this.offsetHeight){i=document.documentElement.clientHeight-this.offsetHeight}r=n+"px";moveY=i+"px";this.style.left=r;this.style.top=moveY}));t.addEventListener("touchend",(function(){if(e===0){diguistop()}}))}function getTrueTR(e){return $("#words").DataTable().page.info().start+e}function getPageNowtr(e){var t=$("#words").DataTable().page.info();var o=t.length==-1?t.recordsDisplay:t.length;var r=Math.ceil(e/o);var n=e%o;n==0?n=n+o:n;return{page:r,Nowtr:n}}function SLBinReadWhole(e,t=false){if(t){$("#bigwordSLB").html(t)}else{try{$("#bigwordSLB").html("\\"+e[0].hwi.prs[0].mw+"\\")}catch(t){try{$("#bigwordSLB").html("\\"+e[0].ins[1].prs[0].mw+"\\")}catch(e){$("#bigwordSLB").empty()}}}}function handleYINBIAO(e){e=e.replace(/-/g,"");return e}document.getElementById("saveapisettings").addEventListener("click",(function(){var e=[];var t=[];if($("#mb1key").val()){$.cookie("Wordlist_mb1key",$("#mb1key").val(),{expires:365,path:"/"});e.push("“朗读单词Key (Dictionary)”")}else{t.push("“朗读单词Key (Dictionary)”")}if($("#mb2key").val()){$.cookie("Wordlist_mb2key",$("#mb2key").val(),{expires:365,path:"/"});e.push("“英英词典Key (Learner's)”")}else{t.push("“英英词典Key (Learner's)”")}if($("#bdid").val()&&$("#bdkey").val()){$.cookie("Wordlist_bdid",$("#bdid").val(),{expires:365,path:"/"});$.cookie("Wordlist_bdkey",$("#bdkey").val(),{expires:365,path:"/"});e.push("“例句翻译”")}else{t.push("“例句翻译”")}var o="";for(j=0,len=e.length;j<len;j++){o+=e[j]+"，"}if(e.length>0){o=o.substr(0,o.length-1)}var r="";for(j=0,len=t.length;j<len;j++){r+=t[j]+"，"}if(t.length>0){r=r.substr(0,r.length-1)}Toast.fire({icon:e.length==3?"success":"warning",html:o.length>0?"成功保存"+o:"",title:r.length>0?r+"为空！":""})}));function clearapi(){$.cookie("Wordlist_mb1key",null,{expires:-1,path:"/"});$.cookie("Wordlist_mb2key",null,{expires:-1,path:"/"});$.cookie("Wordlist_bdid",null,{expires:-1,path:"/"});$.cookie("Wordlist_bdkey",null,{expires:-1,path:"/"});$("#mb1key,#mb2key,#bdid,#bdkey").val("");changeURLPar("mb1key","");changeURLPar("mb2key","");changeURLPar("bdid","");changeURLPar("bdkey","")}function explainapi(){Swal.fire({icon:"info",title:"关于 KEY 的说明",html:"该页面的许多功能都依赖于第三方提供的免费服务，但是这些服务都有次数限制（每月只能访问1000次）。因此，你需要申请自己使用的KEY。<br/><br/><table><thead><tr><th>功能名称</th><th>使用的服务</th><th>每个KEY的免费限额</th></tr></thead><tbody><tr><td>朗读单词例句</td><td>韦氏词典</td><td>1000次/月</td></tr><tr><td>英英词典</td><td>韦氏词典</td><td>1000次/月</td></tr><tr><td>例句翻译</td><td>百度翻译</td><td>无限/月，每秒请求量=1</td></tr></tbody></table>",showCancelButton:1,reverseButtons:1,cancelButtonText:"取消",confirmButtonText:"去申请KEY",footer:"<a href='/testapis.html'>获取测试用的KEY</a>"}).then((e=>{if(e.value){window.open("/wordlist_keyapply.html","_blank")}}))}
qid=0;num1=num2=0;right=wrong=0;record=[];const Toast_primary=Swal.mixin({toast:true,position:"top-end",showConfirmButton:false,timer:1200,timerProgressBar:false,didOpen:t=>{t.addEventListener("mouseenter",Swal.stopTimer);t.addEventListener("mouseleave",Swal.resumeTimer)}});function randint(t,e){return parseInt(Math.random()*(e-t+1)+t)}function result_table(){var t="<table><tr><th>题号</th><th>第一个数</th><th>第二个数</th><th>正确答案</th><th>你的答案</th><th>判定</th></tr>";for(let o=0;o<quantity;o++){var e=record[o];var r=e[2]==e[3]?"✔️":"❌";t+="<tr><td>#"+(o+1)+"</td><td>"+e[0]+"</td><td>"+e[1]+"</td><td>"+e[2]+"</td><td>"+e[3]+"</td><td>"+r+"</td></tr>";var i=r=="❌"?"n":"y";var n='<div class="carousel-item card '+i+'">            <p class="tihao">#'+(o+1)+'</p>            <p class="timu">'+get_t_str(e[0],e[1])+'<span class="ans">'+e[3]+r+"</span></p>";if(r=="❌")n+='<p class="std">正确答案：<span class="std_num">'+e[2]+"</span></p>";n+="</div>";$("#result_carousel").append(n)}t+="</table>";$(".carousel").carousel();$("#result").append(t);$(".std").on("click",(function(){let t=$(this).children(".std_num");let e=t.css("opacity");t.css("opacity",e=="0"?1:0)}));try{let t=new Date;$("#now_time").html(t.toLocaleString())}catch(t){console.log(now_time+"\n"+t)}upload_lean()}function upload_lean(){AV.init({appId:"3yz9VMMFTU7t2AjXwqOzRtJK-MdYXbMMI",appKey:"yWPKu7eizq6iQgRWuBlpRyPa",serverURL:"https://leancloud.lzc2002.top"});const t=AV.Object.extend("Primary");const e=new t;let r=document.title.split(" | ")[0];let i=typeof returnCitySN!=="undefined"&&returnCitySN["cip"]?returnCitySN["cip"]:"-1";e.set("title",r);e.set("right",right);e.set("wrong",wrong);e.set("ip",i);e.set("time_limit",time_limit);e.save().then((t=>{console.log(`保存成功。objectId: ${t.id}`);$("#ojid").html(`存档编号: ${t.id}`);Swal.fire({position:"center",icon:"success",title:"成绩上传成功",confirmButtonText:"好的",timer:3500})}),(t=>{console.error("leancloud error:"+t);$("#ojid").html(`成绩上传失败`);Swal.fire({position:"center",icon:"warning",title:"请手动截图记录",text:"您的成绩上传失败！",confirmButtonText:"好的"})}))}function toggle_wrong(){$(".carousel.carousel-slider .carousel-item.y").toggle();$(".carousel").carousel("destroy")}function check(t){$(".progress").css("width","100%");var e=document.getElementById("ans").value;if(t==e){right++;Toast_primary.fire({icon:"success",title:"答案正确！"})}else{wrong++;Toast_primary.fire({icon:"error",title:"答案错误！"})}record[qid-1][2]=t;record[qid-1][3]=e}function work(){if(qid==0){document.querySelector("#welcome-inside").remove();var t={title:"title",url:"#"};window.history.pushState(t,"title","#");$("#t").show()}document.getElementById("ans").focus();$(".progress").css("width","0%");qid!=0&&check(get_std());if(qid==quantity){end()}else{produce_n1n2();$("#timu").html(get_t_str(num1,num2));record.push([num1,num2,,]);qid++;$("#tihao").html("#"+qid)}}window.onbeforeunload=function(t){return"离开后，本次作答记录将清空。确认要离开吗？"};
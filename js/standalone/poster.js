$(document).ready((function(){$(".collapsible").collapsible();$("select").formSelect();$(".pic-eg").on("click",(function(){let e=$(this).css("background-image");$("#result,#toppic").css("background-image",e)}))}));function text_change(e,t){let n=`<p>${e}</p>`;$(`#${t}`).html(n.replace(/\n/g,"</p><p>"))}function text_style(e,t){$(`#text`).css(e,t)}$("#hyphen_switch").change((function(){alert("成功触发checkbox改变事件")}));Boolean.prototype.center_left=function(){return this.valueOf()==true?"center":"left"};Boolean.prototype.indent20=function(){return this.valueOf()==true?"2":"0"};Boolean.prototype.inline_none=function(){return this.valueOf()==true?"inline":"none"};Boolean.prototype.bold_normal=function(){return this.valueOf()==true?"bold":"normal"};function pic_source_type(e){$("[id*=pic_source_type]").hide();$(`#pic_source_type${e}`).show()}function random_keyword(e){let t="";for(i=0;i<9;i++){t+=`<div class="pic-eg" style="background-image:url('https://source.unsplash.com/80${i}x0/?${e}')"></div>`}$("#pic_search_res").html(t);$(".pic-eg").on("click",(function(){let e=$(this).css("background-image");$("#result,#toppic").css("background-image",e)}))}function pic_upload(e){var t=e.files[0];var n=window.URL.createObjectURL(t);$("#result,#toppic").css("background-image",`url(${n})`)}function filter_change(){$("#filter").css("backdrop-filter",`blur(${$("#blur").val()}px) brightness(${$("#bright").val()}) grayscale(${$("#gray").val()}) contrast(${$("#contrast").val()}) invert(${$("#invert").val()}) saturate(${$("#saturate").val()}) sepia(${$("#sepia").val()}) `)}function mobile_toggle(){if($("#right").css("left")!="0px"){$("#right").css("left",0);$("#mobile_toggle").css("transform","rotate(180deg)")}else{$("#right").css("left","100vw");$("#mobile_toggle").css("transform","rotate(0deg)")}}function capture(){$("#filter,#result").css("border-radius",0);Swal.fire({position:"top",icon:"info",title:"请稍后",text:"图片生成中",showConfirmButton:false,timer:1500});html2canvas(document.getElementById("result"),{useCORS:true,allowTaint:true,taintTest:true,scale:2}).then((t=>{document.body.appendChild(t);let n=t.toDataURL("image/png");e("句摘截图",n);t.remove()}));function e(e,t){var n=document.createElement("a");n.href=t;n.download=e;let o=document.createEvent("MouseEvents");o.initMouseEvent("click",true,false,window,0,0,0,0,0,false,false,false,false,0,null);n.dispatchEvent(o)}}
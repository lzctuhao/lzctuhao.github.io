document.getElementById("ua").innerText=navigator.userAgent;document.getElementById("screen").innerText=`${screen.width} x ${screen.height}`;document.getElementById("availscreen").innerText=`${screen.availWidth} x ${screen.availHeight}`;document.getElementById("drp").innerText=window.devicePixelRatio.toFixed(1);try{if(!navigator.storage){document.getElementById("storage").innerText="非https安全环境，不允许Storage Manager";document.getElementById("storage_persist").innerText="非https安全环境，不允许Storage Manager"}else{navigator.storage.estimate().then((function(e){document.getElementById("storage").innerHTML=`${(e.usage/1e9).toFixed(2)}GB / ${(e.quota/1e9).toFixed(2)}GB (${(e.usage/e.quota*100).toFixed(1)}%)`}));if(navigator.storage&&navigator.storage.persist){navigator.storage.persist().then((e=>{document.getElementById("storage_persist").innerText=e?"除非通过明确的用户操作，否则不会清除存储":"UA可能会因存储压力而清除存储"}))}}}catch(e){Toast.fire("navigator.storage",e.toString(),"error")}try{const t={url:"https://apis.map.qq.com/ws/location/v1/ip?key=4WGBZ-ZAWRX-CFU43-TPU2J-ZHK6O-OIBNR&output=jsonp",method:"GET",dataType:"jsonp",timeout:0};function all_fail(e="程序错误",t="请联系开发者"){document.getElementById("ip").innerHTML="获取失败";document.getElementById("ip_city").innerHTML="获取失败";Toast.fire(e,t,"error")}$.ajax(t).done((function(e){if(e.status!=0){var t={url:"https://api.ipgeolocation.io/ipgeo?apiKey=687a87c0dbde4cf69ced37d54c496325",method:"GET",dataType:"json",timeout:0};$.ajax(t).done((function(e){document.getElementById("ip").innerText=e.ip;document.getElementById("ip_city").innerHTML=e.city+" "+e.country_name+" "+e.continent_name})).fail((function(e,t,n){all_fail(t,n)}))}else{document.getElementById("ip").innerHTML=e.result.ip;document.getElementById("ip_city").innerHTML=e.result.ad_info.nation+e.result.ad_info.province+e.result.ad_info.city+e.result.ad_info.district}})).fail((function(e,t,n){all_fail(t,n)}))}catch(n){console.error(n);all_fail()}try{FingerprintJS.load().then((e=>e.get())).then((e=>document.querySelector("#fingerprint").innerHTML=`${e.visitorId}`))}catch(i){console.error(i)}